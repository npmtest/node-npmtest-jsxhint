<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jsxhint/node_modules/jsxhint/cli.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jsxhint">npmtest-jsxhint (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jsxhint/node_modules/jsxhint/cli.js</span></h1>
    <h2>
        
        Statements: <span class="metric">37% <small>(37 / 100)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">33.33% <small>(14 / 42)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">35.29% <small>(6 / 17)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">38.54% <small>(37 / 96)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jsxhint/node_modules/jsxhint/</a> &#187; cli.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">//#!/usr/bin/env node
/**
 * JSXHint CLI tool
 *
 * Copyright 2013 (c) Cond√© Nast
 *
 * Please see LICENSE for details
 *
 */
&nbsp;
'use strict';
&nbsp;
var jsxhint = require('./jsxhint');
var jshintcli = require('jshint/src/cli');
var fork = require('child_process').fork;
var through = require('through');
var glob = require('glob-all');
var fs = require('fs');
var debug = require('debug')('jsxhint');
&nbsp;
// Mapping from jsxhint options to:
//  - false if no argument is expected.
//  - true if an argument is expected.
//  - array if one of an enumeration is expected.
// The jshint call will throw an error if it encounters an option that it does
// not recognize. Therefore, we need to filter out jsxhint options before
// calling jshint. Because jsxhint is run in part of a callback of jshint after
// this check, we need to store jsxhint options someplace globally so we can
// access them inside the callback.
var acceptedJSXHintOptions = {
  '--babel': false,
  '--babel-experimental': false,
  '--es6module': false,
  '--harmony': false,
  '--jsx-only': false,
  '--non-strict-es6module': false,
  '--transform-errors': ['always', 'jsx', 'never']
};
var jsxhintOptions = {};
&nbsp;
/**
 * Intercept -h to show jshint help.
 */
<span class="fstat-no" title="function not covered" >function showHelp(){</span>
<span class="cstat-no" title="statement not covered" >  var jshint_proc = fork(require.resolve('jshint/bin/jshint'), ['-h'], {silent: true});</span>
<span class="cstat-no" title="statement not covered" >  var ts = through(<span class="fstat-no" title="function not covered" >function write(chunk){</span></span>
<span class="cstat-no" title="statement not covered" >    this.queue(chunk.toString().replace(/(jshint)\b/g, 'jsxhint'));</span>
  }, <span class="fstat-no" title="function not covered" >function end() {</span>
    // This feels like a hack. There might be a better way to do this.
<span class="cstat-no" title="statement not covered" >    this.queue('\nThe above options are native to JSHint, which JSXHint extends.\n');</span>
<span class="cstat-no" title="statement not covered" >    this.queue('\x1b[1m'); </span>// bold
<span class="cstat-no" title="statement not covered" >    this.queue('\nJSXHint Options:\n');</span>
<span class="cstat-no" title="statement not covered" >    this.queue('\x1b[0m');</span>
<span class="cstat-no" title="statement not covered" >    this.queue('      --jsx-only         Only transform files with the .jsx extension.\n' +</span>
               '                         Will run somewhat faster.\n');
<span class="cstat-no" title="statement not covered" >    this.queue('      --babel            Use babel (6to5) instead of react esprima.\n' +</span>
               '                         Useful if you are using es6-module, etc. You must \n' +
               '                         install the module `babel` manually with npm.\n');
<span class="cstat-no" title="statement not covered" >    this.queue('      --babel-experimental  Use babel with experimental support for ES7.\n' +</span>
               '                            Useful if you are using es7-async, etc.\n');
<span class="cstat-no" title="statement not covered" >    this.queue('      --harmony          Use react esprima with ES6 transformation support.\n' +</span>
               '                         Useful if you are using both es6-class and react.\n');
<span class="cstat-no" title="statement not covered" >    this.queue('      --es6module             Pass the --es6module flag to react tools.\n');</span>
<span class="cstat-no" title="statement not covered" >    this.queue('      --non-strict-es6module  Pass this flag to react tools.\n');</span>
<span class="cstat-no" title="statement not covered" >    this.queue('      --transform-errors STRING   Whether to fail on transform errors.\n' +</span>
               '                                  Valid: always, jsx, never (default: jsx)');
  });
<span class="cstat-no" title="statement not covered" >  jshint_proc.stderr.pipe(ts).pipe(process.stderr);</span>
}
&nbsp;
/**
 * Intercept -v, shows jsxhint and jshint versions.
 */
<span class="fstat-no" title="function not covered" >function showVersion(){</span>
<span class="cstat-no" title="statement not covered" >  var jshint_proc = fork(__dirname + '/node_modules/jshint/bin/jshint', ['-v'], {silent: true});</span>
<span class="cstat-no" title="statement not covered" >  var ts = through(<span class="fstat-no" title="function not covered" >function write(chunk){</span></span>
<span class="cstat-no" title="statement not covered" >    this.queue("JSXHint v" + require('./package.json').version + " (" +</span>
      chunk.toString().replace("\n", "") + ")\n");
  });
<span class="cstat-no" title="statement not covered" >  jshint_proc.stderr.pipe(ts).pipe(process.stderr);</span>
}
&nbsp;
/**
 * Wrapper around globbing function. Ignores '.' which has special meaning in jshint.
 * @param  {Array}    args File/glob list.
 * @param  {Object}   opts Glob options.
 * @param  {Function} cb   Callback.
 */
function runGlob(args, opts, cb) {
  var dotIdx = args.indexOf('.');
  <span class="missing-if-branch" title="if path not taken" >I</span>if (dotIdx !== -1) {
<span class="cstat-no" title="statement not covered" >    args.splice(dotIdx, 1);</span>
  }
  glob(args, opts, function(err, globbed) {
    <span class="missing-if-branch" title="if path not taken" >I</span>if (Array.isArray(globbed) &amp;&amp; dotIdx !== -1) <span class="cstat-no" title="statement not covered" >globbed.push('.');</span>
    cb(err, globbed);
  });
}
&nbsp;
/**
 * Proxy run function. Reaches out to jsxhint to transform
 * incoming stream or read files &amp; transform.
 * @param  {Object}   opts Opts as created by JSHint.
 * @param  {Function} cb   Callback.
 */
function run(opts, cb){
  opts.extensions = opts.extensions ? <span class="branch-0 cbranch-no" title="branch not covered" >opts.extensions + ',.jsx' </span>: '.jsx';
&nbsp;
  // glob-all fixes windows glob issues and provides array support
  // i.e. jsxhint ['jsx/**/*','!scripts/**/*','scripts/outlier.jsx']
  runGlob(opts.args, {nodir: true}, function(err, globbed) {
    <span class="missing-if-branch" title="if path not taken" >I</span>if (err) <span class="cstat-no" title="statement not covered" >return cb(err);</span>
&nbsp;
    // Reassign the globbed files back to opts.args, so it looks like we just
    // fed jshint a big list of files.
    opts.args = globbed;
    var files = jshintcli.gather(opts);
&nbsp;
    <span class="missing-if-branch" title="if path not taken" >I</span>if (opts.useStdin) {
<span class="cstat-no" title="statement not covered" >      jsxhint.transformStream(process.stdin, jsxhintOptions, opts, cb);</span>
    } else {
      jsxhint.transformFiles(files, jsxhintOptions, opts, cb);
    }
  });
}
&nbsp;
/**
 * Intercept configured reporter and change file names so it looks
 * like nothing happened.
 * @param  {Reporter} reporter JSHint reporter
 * @param  {Object}   filesMap Map related transformed files to original file paths.
 * @return {Function}          Wrapper around configured reporter. Same arity as reporter.
 */
<span class="fstat-no" title="function not covered" >function interceptReporter(reporter, filesMap){</span>
<span class="cstat-no" title="statement not covered" >  if(!reporter) <span class="cstat-no" title="statement not covered" >reporter = require('jshint/src/reporters/default').reporter;</span></span>
<span class="cstat-no" title="statement not covered" >  return <span class="fstat-no" title="function not covered" >function(results, data, opts){</span></span>
<span class="cstat-no" title="statement not covered" >    if (filesMap) {</span>
<span class="cstat-no" title="statement not covered" >      results.forEach(<span class="fstat-no" title="function not covered" >function(result){</span></span>
<span class="cstat-no" title="statement not covered" >        result.file = filesMap[result.file];</span>
      });
    }
<span class="cstat-no" title="statement not covered" >    return reporter(results, data, opts);</span>
  };
}
&nbsp;
/**
 * Unlink temporary files created by JSX processor.
 */
<span class="fstat-no" title="function not covered" >function unlinkTemp(){</span>
<span class="cstat-no" title="statement not covered" >  try {</span>
<span class="cstat-no" title="statement not covered" >    fs.removeSync(jsxhint.tmpdir);</span>
  } catch(e) {
    // ignore
  }
}
&nbsp;
&nbsp;
// Run program. Intercept JSHintCLI.run to process JSX files.
try {
  <span class="missing-if-branch" title="if path not taken" >I</span>if (process.argv.indexOf('-h') !== -1 || process.argv.indexOf('--help') !== -1){
<span class="cstat-no" title="statement not covered" >    showHelp();</span>
  } else <span class="missing-if-branch" title="if path not taken" >I</span>if (process.argv.indexOf('-v') !== -1 || process.argv.indexOf('--version') !== -1){
<span class="cstat-no" title="statement not covered" >    showVersion();</span>
  } else {
    jshintcli.originalRun = jshintcli.run;
    jshintcli.run = function(opts, cb){
      // Files can either be string data (from stdin), or an object
      // where keys are the original file name and values are the temporary file
      // name where the transformed source is written.
      run(opts, <span class="fstat-no" title="function not covered" >function(err, files){</span>
<span class="cstat-no" title="statement not covered" >        opts.reporter = interceptReporter(opts.reporter, files);</span>
&nbsp;
        // always false, stdin is never going to be usable as we may have read from it for the
        // transform.
<span class="cstat-no" title="statement not covered" >        opts.useStdin = false;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        if (err) {</span>
<span class="cstat-no" title="statement not covered" >          if (!err.error) {</span>
<span class="cstat-no" title="statement not covered" >            console.error("Runtime error:", err.stack);</span>
          } else {
<span class="cstat-no" title="statement not covered" >            opts.reporter([err], {}, opts);</span>
          }
<span class="cstat-no" title="statement not covered" >          return process.exit(1);</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        opts.args = Object.keys(files);</span>
<span class="cstat-no" title="statement not covered" >        debug("Running JSHint with options: %j", opts);</span>
&nbsp;
        // Weird sync/async function, jshint oddity
<span class="cstat-no" title="statement not covered" >        var done = <span class="fstat-no" title="function not covered" >function(passed){</span></span>
<span class="cstat-no" title="statement not covered" >          if (passed == null) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >          unlinkTemp();</span>
<span class="cstat-no" title="statement not covered" >          cb(passed);</span>
        };
<span class="cstat-no" title="statement not covered" >        done(jshintcli.originalRun(opts, done));</span>
      });
    };
&nbsp;
    var argv = process.argv.filter(function(value, ii, args) {
      <span class="missing-if-branch" title="if path not taken" >I</span>if (acceptedJSXHintOptions.hasOwnProperty(value)) {
<span class="cstat-no" title="statement not covered" >        var argValue = true;</span>
<span class="cstat-no" title="statement not covered" >        var config = acceptedJSXHintOptions[value];</span>
<span class="cstat-no" title="statement not covered" >        if (config) {</span>
<span class="cstat-no" title="statement not covered" >          var nextValue = args[ii + 1];</span>
<span class="cstat-no" title="statement not covered" >          if (!nextValue || nextValue.charAt(0) === '-') {</span>
<span class="cstat-no" title="statement not covered" >            throw new Error('ERROR: ' + value + ' requires an argument.');</span>
          }
<span class="cstat-no" title="statement not covered" >          if (Array.isArray(config) &amp;&amp; config.indexOf(nextValue) &lt; 0) {</span>
<span class="cstat-no" title="statement not covered" >            throw new Error('ERROR: ' + value + ' must be one of: ' + config.join(', '));</span>
          }
<span class="cstat-no" title="statement not covered" >          argValue = nextValue;</span>
        }
&nbsp;
        // Store the jsxhint specific option globally so we can access it when
        // we run the transformation.
<span class="cstat-no" title="statement not covered" >        jsxhintOptions[value] = argValue;</span>
&nbsp;
        // Need to filter out jsxhint specific options so jshint doesn't throw
        // an unknown option error.
<span class="cstat-no" title="statement not covered" >        return false;</span>
      }
&nbsp;
      return true;
    });
&nbsp;
    jshintcli.interpret(argv);
  }
} catch (e){
<span class="cstat-no" title="statement not covered" >  console.log(e.message.replace(/cli\.js/, 'jsxhint'));</span>
<span class="cstat-no" title="statement not covered" >  unlinkTemp();</span>
<span class="cstat-no" title="statement not covered" >  process.exit(1);</span>
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Tue Apr 25 2017 11:05:09 GMT+0000 (UTC)</div>
</div>
</body>
</html>
